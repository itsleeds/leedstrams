[{"path":"https://itsleeds.github.io/leedstrams/articles/nls-tiles.html","id":"tile-maths","dir":"Articles","previous_headings":"","what":"Tile maths","title":"NLS town-plan tiles","text":"NLS town plan rasters served Web Mercator XYZ tiles URLs like: https://mapseries-tilesets.s3.amazonaws.com/os/town-england/North/{z}/{x}/{y}.png helpers package implement standard XYZ tile maths. Developer-, one-checks (including deterministic XYZ round-trip) live dev/tests.Rmd.","code":""},{"path":"https://itsleeds.github.io/leedstrams/articles/nls-tiles.html","id":"getting-tiles-near-a-point","dir":"Articles","previous_headings":"","what":"Getting tiles near a point","title":"NLS town-plan tiles","text":"","code":"z <- 20 hyde_park <- c(lon = -1.561482, lat = 53.814711) tiles <- nls_tiles_near_lonlat(hyde_park[\"lon\"], hyde_park[\"lat\"], z = z, n_tiles = 4) tiles #>        x      y #> 1 519738 337593 #> 2 519739 337593 #> 3 519738 337594 #> 4 519739 337594"},{"path":"https://itsleeds.github.io/leedstrams/articles/nls-tiles.html","id":"downloading-and-stitching-tiles","dir":"Articles","previous_headings":"","what":"Downloading and stitching tiles","title":"NLS town-plan tiles","text":"Remote tile downloads intentionally disabled vignette remains cheap build R CMD check. try small mosaic interactively, flip eval = FALSE eval = TRUE.","code":"base_url <- \"https://mapseries-tilesets.s3.amazonaws.com/os/town-england/North\"  r_list <- Map(   function(x, y) nls_tile_rast_zxy(base_url = base_url, z = z, x = x, y = y),   tiles$x,   tiles$y )  mosaic <- terra::merge(terra::sprc(r_list)) terra::plotRGB(mosaic)"},{"path":"https://itsleeds.github.io/leedstrams/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Leeds. Copyright holder. Robin Lovelace. Author, maintainer.","code":""},{"path":"https://itsleeds.github.io/leedstrams/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lovelace R (2025). leedstrams: Tools Working Leeds Historic Tram Map Tiles. R package version 0.0.0.9000, https://itsleeds.github.io/leedstrams/.","code":"@Manual{,   title = {leedstrams: Tools for Working with Leeds Historic Tram Map Tiles},   author = {Robin Lovelace},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://itsleeds.github.io/leedstrams/}, }"},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"leedstrams","dir":"","previous_headings":"","what":"Tools for Working with Leeds Historic Tram Map Tiles","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"repository R package provides helpers working National Library Scotland (NLS) OS town-plan XYZ tile pyramids, used Leeds tram mapping case study.","code":""},{"path":[]},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"core-package-functions","dir":"","previous_headings":"","what":"Core package functions","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"Tile maths: tile_coords_to_xy() (lon/lat -> x/y) tile_xy_to_lonlat() (x/y -> lon/lat) tile_webmerc_extent() (tile -> EPSG:3857 extent) NLS tile access: nls_tile_rast_zxy() (read z/x/y tile georeferenced terra raster) nls_tile_rast_lonlat() (read tile containing lon/lat) Tile selection: nls_tiles_near_lonlat() (compact set nearby tiles, useful small mosaics) nls_tiles_for_polygon() (tile indices intersecting sf polygon)","code":""},{"path":[]},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"downloadingstitching-a-larger-leeds-mosaic","dir":"","previous_headings":"","what":"Downloading/stitching a larger Leeds mosaic","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"reproducible end--end download/stitch workflow (including chunked merging), see standalone script: scripts/download_leeds_nls_tiles.R script caches downloaded tiles .cache/ writes tiles_merged_leeds.tif (outputs gitignored).","code":""},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"User vignette: vignettes/nls-tiles.Rmd pkgdown site: https://itsleeds.github.io/leedstrams/ Developer-one-checks: dev/tests.Rmd","code":""},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"notes","dir":"","previous_headings":"","what":"Notes","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"Keep remote tile downloads limited rendering documentation, prefer running larger downloads via script .","code":""},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"plan","dir":"","previous_headings":"Notes","what":"Plan","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"Download town map dataset Scottish Library: https://maps.nls.uk/os/townplans-england/leeds2.html Digitise tramway centerlines Digitise tram network Alex’s image data Combine datasets single tramway network Bonus: track lines Comparing OSM","code":""},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"rail-map-online-data","dir":"","previous_headings":"Notes","what":"Rail Map online data","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"See png--geojson.py","code":""},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"town-plan-data","dir":"","previous_headings":"Notes","what":"Town plan data","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"Individual tiles can accessed URLs https://mapseries-tilesets.s3.amazonaws.com/os/town-england/North/19/259898/168840.png. raster tile pyramid: zoom level 19, tile coordinates 259898, 168840. general pattern : https://mapseries-tilesets.s3.amazonaws.com/os/town-england/North/{z}/{x}/{y}.png can copy-paste URL QGIS ‘XYZ Tiles’ access tiles directly shown :  can also use ceramic package download tiles:","code":""},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"extracting-tram-network-from-image","dir":"","previous_headings":"Notes","what":"Extracting tram network from image","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"following Python code processes image images/paste-2.png extract Leeds tram network lines (purple), skeletonizes , converts result LineStrings.","code":""},{"path":"https://itsleeds.github.io/leedstrams/index.html","id":"research","dir":"","previous_headings":"","what":"Research","title":"Tools for Working with Leeds Historic Tram Map Tiles","text":"Compare historic economic usage data …","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_download_tile_png.html","id":null,"dir":"Reference","previous_headings":"","what":"Download a single NLS town-plan PNG tile — nls_download_tile_png","title":"Download a single NLS town-plan PNG tile — nls_download_tile_png","text":"Download single NLS town-plan PNG tile","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_download_tile_png.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download a single NLS town-plan PNG tile — nls_download_tile_png","text":"","code":"nls_download_tile_png(   base_url = \"https://mapseries-tilesets.s3.amazonaws.com/os/town-england/North\",   z,   x,   y,   destfile )"},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_download_tile_png.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download a single NLS town-plan PNG tile — nls_download_tile_png","text":"base_url Base URL NLS tile set. z Zoom level. x Tile x coordinate. y Tile y coordinate. destfile Destination file path (.png).","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_download_tile_png.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download a single NLS town-plan PNG tile — nls_download_tile_png","text":"TRUE file exists download; otherwise FALSE.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tile_rast_lonlat.html","id":null,"dir":"Reference","previous_headings":"","what":"Read an NLS tile by lon/lat — nls_tile_rast_lonlat","title":"Read an NLS tile by lon/lat — nls_tile_rast_lonlat","text":"Convenience wrapper around tile_coords_to_xy() nls_tile_rast_zxy().","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tile_rast_lonlat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read an NLS tile by lon/lat — nls_tile_rast_lonlat","text":"","code":"nls_tile_rast_lonlat(   base_url = \"https://mapseries-tilesets.s3.amazonaws.com/os/town-england/North\",   z,   lon,   lat )"},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tile_rast_lonlat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read an NLS tile by lon/lat — nls_tile_rast_lonlat","text":"base_url Base URL NLS tile set. z Zoom level. lon Longitude. lat Latitude.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tile_rast_lonlat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read an NLS tile by lon/lat — nls_tile_rast_lonlat","text":"terra::SpatRaster EPSG:3857.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tile_rast_zxy.html","id":null,"dir":"Reference","previous_headings":"","what":"Read an NLS tile into a georeferenced terra raster — nls_tile_rast_zxy","title":"Read an NLS tile into a georeferenced terra raster — nls_tile_rast_zxy","text":"NLS town-plan tiles paletted PNGs; helper converts RGB sets tile extent/CRS (EPSG:3857).","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tile_rast_zxy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read an NLS tile into a georeferenced terra raster — nls_tile_rast_zxy","text":"","code":"nls_tile_rast_zxy(   base_url = \"https://mapseries-tilesets.s3.amazonaws.com/os/town-england/North\",   z,   x,   y )"},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tile_rast_zxy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read an NLS tile into a georeferenced terra raster — nls_tile_rast_zxy","text":"base_url Base URL NLS tile set. z Zoom level. x Tile x coordinate. y Tile y coordinate.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tile_rast_zxy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read an NLS tile into a georeferenced terra raster — nls_tile_rast_zxy","text":"terra::SpatRaster EPSG:3857.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tiles_for_polygon.html","id":null,"dir":"Reference","previous_headings":"","what":"Tiles intersecting a polygon at a given zoom — nls_tiles_for_polygon","title":"Tiles intersecting a polygon at a given zoom — nls_tiles_for_polygon","text":"Computes bbox grid EPSG:3857 filters tiles intersection poly.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tiles_for_polygon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tiles intersecting a polygon at a given zoom — nls_tiles_for_polygon","text":"","code":"nls_tiles_for_polygon(poly, z)"},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tiles_for_polygon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tiles intersecting a polygon at a given zoom — nls_tiles_for_polygon","text":"poly sf object. z Zoom level.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tiles_for_polygon.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tiles intersecting a polygon at a given zoom — nls_tiles_for_polygon","text":"data frame integer columns x y.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tiles_near_lonlat.html","id":null,"dir":"Reference","previous_headings":"","what":"Tile coordinate set near a lon/lat — nls_tiles_near_lonlat","title":"Tile coordinate set near a lon/lat — nls_tiles_near_lonlat","text":"Chooses tile offsets (e.g. 2x2 block n_tiles = 4) tend create compact mosaics.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tiles_near_lonlat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tile coordinate set near a lon/lat — nls_tiles_near_lonlat","text":"","code":"nls_tiles_near_lonlat(lon, lat, z, n_tiles = 3)"},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tiles_near_lonlat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tile coordinate set near a lon/lat — nls_tiles_near_lonlat","text":"lon Longitude. lat Latitude. z Zoom level. n_tiles Number tiles return.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/nls_tiles_near_lonlat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tile coordinate set near a lon/lat — nls_tiles_near_lonlat","text":"data frame integer columns x y.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_coords_to_xy.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert lon/lat to XYZ or TMS tile coordinates — tile_coords_to_xy","title":"Convert lon/lat to XYZ or TMS tile coordinates — tile_coords_to_xy","text":"Implements standard Web Mercator tile maths.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_coords_to_xy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert lon/lat to XYZ or TMS tile coordinates — tile_coords_to_xy","text":"","code":"tile_coords_to_xy(lon, lat, z, scheme = c(\"xyz\", \"tms\"))"},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_coords_to_xy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert lon/lat to XYZ or TMS tile coordinates — tile_coords_to_xy","text":"lon Longitude decimal degrees. lat Latitude decimal degrees. z Zoom level (integer). scheme Tile scheme, either \"xyz\" (Google/OSM) \"tms\".","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_coords_to_xy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert lon/lat to XYZ or TMS tile coordinates — tile_coords_to_xy","text":"Named numeric vector elements x y.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_webmerc_extent.html","id":null,"dir":"Reference","previous_headings":"","what":"Web Mercator extent of an XYZ tile — tile_webmerc_extent","title":"Web Mercator extent of an XYZ tile — tile_webmerc_extent","text":"Web Mercator extent XYZ tile","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_webmerc_extent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Web Mercator extent of an XYZ tile — tile_webmerc_extent","text":"","code":"tile_webmerc_extent(z, x, y)"},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_webmerc_extent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Web Mercator extent of an XYZ tile — tile_webmerc_extent","text":"z Zoom level. x Tile x coordinate. y Tile y coordinate.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_webmerc_extent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Web Mercator extent of an XYZ tile — tile_webmerc_extent","text":"terra::ext() object.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_xy_to_lonlat.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert XYZ/TMS tile coordinates to lon/lat — tile_xy_to_lonlat","title":"Convert XYZ/TMS tile coordinates to lon/lat — tile_xy_to_lonlat","text":"Convert XYZ/TMS tile coordinates lon/lat","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_xy_to_lonlat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert XYZ/TMS tile coordinates to lon/lat — tile_xy_to_lonlat","text":"","code":"tile_xy_to_lonlat(x, y, z, scheme = c(\"xyz\", \"tms\"), offset = 0.5)"},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_xy_to_lonlat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert XYZ/TMS tile coordinates to lon/lat — tile_xy_to_lonlat","text":"x Tile x coordinate. y Tile y coordinate. z Zoom level. scheme Tile scheme, either \"xyz\" (Google/OSM) \"tms\". offset Offset within tile, 0.5 gives tile centre.","code":""},{"path":"https://itsleeds.github.io/leedstrams/reference/tile_xy_to_lonlat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert XYZ/TMS tile coordinates to lon/lat — tile_xy_to_lonlat","text":"Named numeric vector elements lon lat.","code":""}]
